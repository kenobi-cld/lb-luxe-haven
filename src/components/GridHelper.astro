---
interface Props {
  size?: "sm" | "md" | "lg" | "xl";
  cols?: 1 | 2 | 3 | 4 | 5 | 6;
  tw?: string;
}

const { size = "md", cols = 2, tw } = Astro.props;

const gapMap = {
  sm: "0.5rem",
  md: "1rem",
  lg: "1.5rem",
  xl: "2rem",
} as const;
---

<style>
  .grid-wrapper {
    display: grid;
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px) {
    .grid-wrapper[data-cols="2"] {
      grid-template-columns: repeat(2, 1fr);
    }
    .grid-wrapper[data-cols="3"] {
      grid-template-columns: repeat(3, 1fr);
    }
    .grid-wrapper[data-cols="4"] {
      grid-template-columns: repeat(4, 1fr);
    }
    .grid-wrapper[data-cols="5"] {
      grid-template-columns: repeat(5, 1fr);
    }
    .grid-wrapper[data-cols="6"] {
      grid-template-columns: repeat(6, 1fr);
    }
  }
</style>

<div
  class={`grid-wrapper ${tw}`}
  style={`gap: ${gapMap[size]};`}
  data-cols={cols}
>
  <slot />
</div>
